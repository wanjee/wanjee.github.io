<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Everything in code ! - To quality and beyond</title>

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Everything in code !">
    <meta name="twitter:description" content="">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Everything in code !">
    <meta property="og:description" content="">

    <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link href="/apple-touch-icon-precomposed.png" rel="apple-touch-icon">

    <link rel="stylesheet" type="text/css" href="http://wanjee.github.io/themes/uno/assets/css/uno.css?v=1.0.0" />

    <link rel="canonical" href="http://wanjee.github.io/2014/05/31/Everything-in-code.html" />
    
    <meta property="og:site_name" content="To quality and beyond" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Everything in code !" />
    <meta property="og:description" content="What to do ? A big problem in Drupal is that most of the configuration and DB structure is stored in the database.  This is a problem for deployment.  Therefore we should ensure following those steps: Every single change should be..." />
    <meta property="og:url" content="http://wanjee.github.io/2014/05/31/Everything-in-code.html" />
    <meta property="article:published_time" content="2014-05-30T22:00:00.000Z" />
    <meta property="article:modified_time" content="2015-02-18T14:05:00.336Z" />
    <meta property="article:tag" content="Quality" />
    <meta property="article:tag" content="Drupal" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Everything in code !" />
    <meta name="twitter:description" content="What to do ? A big problem in Drupal is that most of the configuration and DB structure is stored in the database.  This is a problem for deployment.  Therefore we should ensure following those steps: Every single change should be..." />
    <meta name="twitter:url" content="http://wanjee.github.io/2014/05/31/Everything-in-code.html" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "To quality and beyond",
    "author": {
        "@type": "Person",
        "name": "",
        "image": "https://avatars.githubusercontent.com/u/3372615?v=3",
        "url": "undefined/author/undefined",
        "sameAs": ""
    },
    "headline": "Everything in code !",
    "url": "http://wanjee.github.io/2014/05/31/Everything-in-code.html",
    "datePublished": "2014-05-30T22:00:00.000Z",
    "dateModified": "2015-02-18T14:05:00.336Z",
    "keywords": "Quality,  Drupal",
    "description": "What to do ? A big problem in Drupal is that most of the configuration and DB structure is stored in the database.  This is a problem for deployment.  Therefore we should ensure following those steps: Every single change should be..."
}
    </script>

    <meta name="generator" content="Ghost ?" />
    <link rel="alternate" type="application/rss+xml" title="To quality and beyond" href="http://wanjee.github.io/rss" />

</head>
<body class="post-template tag-undefined tag-undefined no-js">

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    <header class="panel-cover panel-cover--collapsed " >
      <div class="panel-main">
    
        <div class="panel-main__inner panel-inverted">
        <div class="panel-main__content">
    
            <a href="http://wanjee.github.io" title="link to homepage for To quality and beyond"><img src="http://wanjee.be/blog/templates/wanjee/avatar.jpg" width="80" alt="To quality and beyond logo" class="panel-cover__logo logo" /></a>
            <h1 class="panel-cover__title panel-title"><a href="http://wanjee.github.io" title="link to homepage for To quality and beyond">To quality and beyond</a></h1>
            <hr class="panel-cover__divider" />
            <p class="panel-cover__description">Quality focused small posts about PHP projects (Symfony, Drupal) and web development best practices in general.</p>
            <hr class="panel-cover__divider panel-cover__divider--secondary" />
    
            <div class="navigation-wrapper">
    
              <nav class="cover-navigation cover-navigation--primary">
                <ul class="navigation">
                  <li class="navigation__item"><a href="/#blog" title="link to To quality and beyond blog" class="blog-button">Blog</a></li>
                </ul>
              </nav>
    
              
              
              <nav class="cover-navigation navigation--social">
                <ul class="navigation">
              
              
                  <!-- Twitter -->
                  <li class="navigation__item">
                    <a href="http://twitter.com/wanjee" title="Twitter account">
                      <i class='icon icon-social-twitter'></i>
                      <span class="label">Twitter</span>
                    </a>
                  </li>
              
              
                  <!-- Github -->
                  <li class="navigation__item">
                    <a href="https://github.com/wanjee" title="Github account">
                      <i class='icon icon-social-github'></i>
                      <span class="label">Github</span>
                    </a>
                  </li>
                  </li>
              
              
              
              
                  <!-- LinkedIn -->
                  <li class="navigation__item">
                    <a href="http://be.linkedin.com/in/wanjee" title="LinkedIn account">
                      <i class='icon icon-social-linkedin'></i>
                      <span class="label">LinkedIn</span>
                    </a>
                  </li>
              
              
                </ul>
              </nav>
              
    
            </div>
    
          </div>
    
        </div>
    
        <div class="panel-cover--overlay"></div>
      </div>
    </header>
    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            

  <article class="post-container post-container--single">

    <header class="post-header">
      <div class="post-meta">
        <time datetime="31 May 2014" class="post-meta__date date">31 May 2014</time> &#8226; <span class="post-meta__tags tags">on <a href="http://wanjee.github.io/tag/Quality">Quality</a>, <a href="http://wanjee.github.io/tag/ Drupal"> Drupal</a></span>
        <span class="post-meta__author author"><img src="https://avatars.githubusercontent.com/u/3372615?v=3" alt="profile image for " class="avatar post-meta__avatar" /></span>
      </div>
      <h1 class="post-title">Everything in code !</h1>
    </header>

    <section class="post tag-undefined tag-undefined">
      <div class="sect1">
<h2 id="_what_to_do">What to do ?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A big problem in Drupal is that most of the configuration and DB structure is stored in the database.  This is a problem for deployment.  Therefore we should ensure following those steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Every single change should be in the code :</p>
<div class="ulist">
<ul>
<li>
<p>Content types</p>
</li>
<li>
<p>Fields</p>
</li>
<li>
<p>Views</p>
</li>
<li>
<p>Blocks location and display rules (via context)</p>
</li>
<li>
<p>Taxonomy vocabulary</p>
</li>
<li>
<p>Settings</p>
</li>
<li>
<p>Pathauto patterns</p>
</li>
<li>
<p>Permissions</p>
</li>
<li>
<p>Activation/deactivation of a module</p>
</li>
<li>
<p>â€¦</p>
</li>
</ul>
</div>
</li>
<li>
<p>Some things should not go in code.</p>
<div class="ulist">
<ul>
<li>
<p>Content</p>
</li>
<li>
<p>and that&#8217;s all.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you think something cannot be exported to the code discuss it with another developer.  Together you will try to find a solution and implement it for the current project and the next.</p>
</div>
<div class="paragraph">
<p>If you need to click in the admin UI on production you are doing something <strong>wrong</strong> (currently accepted exceptions: update.php, revert of features, cache clearing)</p>
</div>
<div class="paragraph">
<p><strong>Use features module or implement hook_update()</strong></p>
</div>
<div class="paragraph">
<p>Features and hook_update() will both set value from the code to the database.  The main difference is that features will ensure these values do not change in time (they are reset after each feature revert, and therefore at least on each deploy).  So basically if the webmaster change something his changes will be lost on next deployment.  hook_update() will set the value but does not care if the value is changed afterwards.  So you will use features when there is no need for the client "webmaster" user to be able to change the values, use hook_update otherwise.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_it_s_important">Why it&#8217;s important ?</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Deployment should be a one step process: you click one button and the backup is done then the deployment.  We have to get prepared for this.</p>
</li>
<li>
<p>Changes done through the UI are not committed in source repository</p>
</li>
<li>
<p>Currently the developer will not always deploy his changes.  It&#8217;s fine but the deployers do not want to follow step-by-step procedures to effectively deploy your fixes.</p>
</li>
<li>
<p>If all changes are in code the result of the deploy will be exactly the same on dev, staging and production. It ensures we improve quality of our deploys.</p>
</li>
</ul>
</div>
</div>
</div>
    </section>

  </article>




            <footer class="footer">
                <span class="footer__copyright">&copy; 2015. All rights reserved.</span>
                <span class="footer__copyright"><a href="http://uno.daleanthony.com" title="link to page for Uno Ghost theme">Uno theme</a> by <a href="http://daleanthony.com" title="link to website for Dale-Anthony">Dale-Anthony</a></span>
                <span class="footer__copyright">Proudly published with <a href="http://hubpress.io" title="link to Hubpress website">Hubpress</a></span>
            </footer>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script>

    <script type="text/javascript" src="http://wanjee.github.io/themes/uno/assets/js/main.js?v=1.0.0"></script>
    
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-5555804-1', 'auto');
    ga('send', 'pageview');

    </script>

</body>
</html>
